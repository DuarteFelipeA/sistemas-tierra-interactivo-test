<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sistemas de la Tierra – Interactivo</title>
  <meta name="description" content="Imagen interactiva de los sistemas de la Tierra con material para el docente y actividades por sistema." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <h1>Sistemas de la Tierra</h1>
    <p class="subtitle">Atmósfera · Hidrosfera · Geosfera · Biosfera</p>
  </header>

  <main>
    <!-- Imagen/SVG interactivo en forma de cono segmentado -->
    <section class="hero" aria-labelledby="titulo-interactivo" id="home">
      <h2 id="titulo-interactivo" class="sr-only">Mapa interactivo de los sistemas de la Tierra</h2>
      <div class="svg-wrapper" role="img" aria-label="Ilustración interactiva de sistemas en un cono desde el centro de la Tierra al espacio">
        <svg viewBox="0 0 800 420" class="earth-svg" aria-hidden="false">
          <defs>
            <!-- Fondo -->
            <radialGradient id="bg" cx="50%" cy="50%" r="70%">
              <stop offset="0%"  stop-color="#0d47a1"/>
              <stop offset="100%" stop-color="#001e3c"/>
            </radialGradient>
            <!-- Gradientes por sistema -->
            <linearGradient id="grad-geo" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#ffb300"/>
              <stop offset="100%" stop-color="#ffca28"/>
            </linearGradient>
            <linearGradient id="grad-bio" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#43a047"/>
              <stop offset="100%" stop-color="#66bb6a"/>
            </linearGradient>
            <linearGradient id="grad-hidro" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#039be5"/>
              <stop offset="100%" stop-color="#29b6f6"/>
            </linearGradient>
            <linearGradient id="grad-atmo" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#4fc3f7"/>
              <stop offset="100%" stop-color="#81d4fa"/>
            </linearGradient>
          </defs>
          <rect x="0" y="0" width="800" height="420" fill="url(#bg)"></rect>
          <text x="400" y="32" text-anchor="middle" fill="#e3f2fd" font-size="18" aria-hidden="true">Haz clic en un segmento del cono</text>

          <!-- Geometría de referencia del cono -->
          <!-- Límites Y (ajustables): yTop=40, yH2O=232, yBio=240, yGeo=255, yApex=360 -->
          <!-- Funciones laterales (para 800x420): xL(y)=300+0.3125*(y-40), xR(y)=500-0.3125*(y-40) -->

          <!-- GEOSFERA -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Geosfera" data-system="geosfera">
            <polygon points="367.19,255 400,360 432.81,255" fill="url(#grad-geo)" opacity="0.95" stroke="#6d4c41" stroke-width="1.5"></polygon>
            <text x="400" y="300" text-anchor="middle" fill="#3e2723" font-weight="700">Geosfera</text>
          </g>

          <!-- BIOSFERA -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Biosfera" data-system="biosfera">
            <polygon points="362.50,240 367.19,255 432.81,255 437.50,240" fill="url(#grad-bio)" opacity="0.95" stroke="#2e7d32" stroke-width="1.2"></polygon>
            <text x="400" y="248" text-anchor="middle" fill="#1b5e20" font-weight="700">Biosfera</text>
          </g>

          <!-- HIDROSFERA -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Hidrosfera" data-system="hidrosfera">
            <polygon points="360.00,232 362.50,240 437.50,240 440.00,232" fill="url(#grad-hidro)" opacity="0.95" stroke="#0d47a1" stroke-width="1.2"></polygon>
            <text x="400" y="237" text-anchor="middle" fill="#003c6c" font-weight="700">Hidrosfera</text>
          </g>

          <!-- ATMÓSFERA -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Atmósfera" data-system="atmosfera">
            <polygon points="300.00,40 500.00,40 440.00,232 360.00,232" fill="url(#grad-atmo)" opacity="0.90" stroke="#1565c0" stroke-width="1.5"></polygon>
            <text x="400" y="120" text-anchor="middle" fill="#003c6c" font-weight="700">Atmósfera</text>
          </g>

          <!-- Contorno del cono completo -->
          <polyline points="300,40 400,360 500,40" fill="none" stroke="rgba(255,255,255,.3)" stroke-width="1.2"></polyline>
        </svg>
      </div>
    </section>

    <!-- Modal dinámico -->
    <div id="systemModal" class="modal" aria-hidden="true" aria-labelledby="modalTitle" role="dialog">
      <div class="modal-content" role="document">
        <button class="modal-close" aria-label="Cerrar">×</button>
        <div id="modalBody"></div>
      </div>
      <div class="modal-backdrop"></div>
    </div>

    <!-- Material docente -->
    <section class="teacher" aria-labelledby="titulo-docente" id="docente">
      <h2 id="titulo-docente">Material para el docente</h2>
      <p>Visualiza o descarga guías y material de apoyo para cada sistema.</p>

      <div class="tabs" role="tablist" aria-label="Material docente">
        <button role="tab" aria-selected="true" class="tab active" data-tab="pdf-atmosfera">Atmósfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-hidrosfera">Hidrosfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-geosfera">Geosfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-biosfera">Biosfera</button>
      </div>

      <div class="tab-panels">
        <div id="pdf-atmosfera" class="tab-panel active" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Atmósfera" src="assets/atmosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/atmosfera.pdf" download>Descargar PDF de Atmósfera</a>
        </div>
        <div id="pdf-hidrosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Hidrosfera" src="assets/hidrosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/hidrosfera.pdf" download>Descargar PDF de Hidrosfera</a>
        </div>
        <div id="pdf-geosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Geosfera" src="assets/geosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/geosfera.pdf" download>Descargar PDF de Geosfera</a>
        </div>
        <div id="pdf-biosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Biosfera" src="assets/biosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/biosfera.pdf" download>Descargar PDF de Biosfera</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer"><small>© <span id="year"></span> Proyecto educativo • Sistemas de la Tierra</small></footer>
  <script src="app.js"></script>
</body>
</html>
