<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sistemas de la Tierra – Interactivo</title>
  <meta name="description" content="Imagen interactiva de los sistemas de la Tierra con material para el docente y actividades por sistema." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles.extra.css" />
</head>
<body>
  <header class="site-header">
    <h1>Sistemas de la Tierra</h1>
    <p class="subtitle">Atmósfera · Hidrosfera · Geosfera · Biosfera</p>
  </header>

  <main>
    <!-- Imagen/SVG interactivo en forma de cono segmentado -->
    <section class="hero" aria-labelledby="titulo-interactivo" id="home">
      <h2 id="titulo-interactivo" class="sr-only">Mapa interactivo de los sistemas de la Tierra</h2>
      <div class="svg-wrapper" role="img" aria-label="Ilustración interactiva de sistemas en un cono desde el centro de la Tierra al espacio">
        <svg viewBox="0 0 800 420" class="earth-svg preload" aria-hidden="false" role="img">
          <title>Cono interactivo de los sistemas de la Tierra</title>
          <desc>Representación segmentada desde la atmósfera hasta el núcleo: Atmósfera, Hidrosfera, Biosfera y Geosfera. Pulse o presione Enter en cada segmento para abrir recursos.</desc>
          <defs>
            <!-- Fondo -->
            <radialGradient id="bg" cx="50%" cy="50%" r="70%">
              <stop offset="0%"  stop-color="#0d47a1"/>
              <stop offset="100%" stop-color="#001e3c"/>
            </radialGradient>
            <!-- Gradientes para Geosfera y Atmósfera -->
            <linearGradient id="grad-geo" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#ffb300"/>
              <stop offset="100%" stop-color="#ffca28"/>
            </linearGradient>
            <linearGradient id="grad-atmo" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#4fc3f7"/>
              <stop offset="100%" stop-color="#81d4fa"/>
            </linearGradient>
            <!-- Gradientes y patrones para Hidrosfera y Biosfera -->
            <linearGradient id="grad-hidro" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#29b6f6"/>
              <stop offset="100%" stop-color="#0277bd"/>
            </linearGradient>
            <linearGradient id="grad-bio" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#66bb6a"/>
              <stop offset="100%" stop-color="#2e7d32"/>
            </linearGradient>
            <!-- Patrón de olas (sutil) -->
            <pattern id="pattern-waves" patternUnits="userSpaceOnUse" width="24" height="12">
              <path d="M0 6 Q6 0 12 6 T24 6" fill="none" stroke="#ffffff" stroke-opacity="0.08" stroke-width="1" />
            </pattern>
            <!-- Filtro de sombra suave -->
            <filter id="soft-shadow" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="#000" flood-opacity="0.35" />
            </filter>
            <!-- Iconos simples para etiquetas -->
            <symbol id="icon-cloud" viewBox="0 0 24 24"><path fill="#fff" fill-opacity="0.95" d="M19 18H6a4 4 0 0 1 0-8 6 6 0 0 1 12 1c0 0 0 0 0 0"/></symbol>
            <symbol id="icon-water" viewBox="0 0 24 24"><path fill="#fff" fill-opacity="0.95" d="M12 3s5 5 5 8a5 5 0 0 1-10 0c0-3 5-8 5-8z"/></symbol>
            <symbol id="icon-leaf" viewBox="0 0 24 24"><path fill="#fff" fill-opacity="0.95" d="M20 4s-4 4-8 8-8 8-8 8 4-4 8-8 8-8 8-8z"/></symbol>
            <symbol id="icon-rock" viewBox="0 0 24 24"><path fill="#fff" fill-opacity="0.95" d="M12 2l6 6-3 10H9L6 8z"/></symbol>
          </defs>
          <rect x="0" y="0" width="800" height="420" fill="url(#bg)"></rect>

          <!-- Geometría de referencia del cono -->
          <!-- Límites Y (ajustables): yTop=40, yH2O=232, yBio=240, yGeo=255, yApex=360 -->
          <!-- Funciones laterales (para 800x420): xL(y)=300+0.3125*(y-40), xR(y)=500-0.3125*(y-40) -->

          <!-- GEOSFERA -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Geosfera" data-system="geosfera" data-name="Geosfera" data-order="3">
            <polygon points="367,255 400,360 433,255" fill="url(#grad-geo)" opacity="1" stroke="#6d4c41" stroke-width="1.5"></polygon>
            <text x="400" y="300" text-anchor="middle" fill="#3e2723" font-weight="700">Geosfera</text>
            <use href="#icon-rock" x="386" y="268" width="28" height="28" opacity="0.9" />
          </g>

          <!-- BIOSFERA: degradado + ligero borde y sombra -->
          <g class="hotspot biosfera" tabindex="0" role="button" aria-label="Abrir Biosfera" data-system="biosfera" data-name="Biosfera" data-order="2" filter="url(#soft-shadow)">
            <polygon points="362.5,240 367.1875,255 432.8125,255 437.5,240" fill="url(#grad-bio)" opacity="1" stroke="#1b5e20" stroke-width="1.6"/>
            <polygon points="362.5,240 367.1875,255 432.8125,255 437.5,240" fill="url(#pattern-waves)" opacity="0.06"/>
            <text x="400" y="247.5" text-anchor="middle" fill="#062e14" font-weight="800">Biosfera</text>
            <use href="#icon-leaf" x="386" y="255" width="26" height="26" opacity="0.95" />
          </g>

          <!-- HIDROSFERA: degradado + patrón de olas y borde contrastado -->
          <g class="hotspot hidrosfera" tabindex="0" role="button" aria-label="Abrir Hidrosfera" data-system="hidrosfera" data-name="Hidrosfera" data-order="1" filter="url(#soft-shadow)">
            <polygon points="360,232 362.5,240 437.5,240 440,232" fill="url(#grad-hidro)" opacity="1" stroke="#003c6c" stroke-width="1.6"/>
            <polygon points="360,232 362.5,240 437.5,240 440,232" fill="url(#pattern-waves)" opacity="0.12"/>
            <text x="400" y="236" text-anchor="middle" fill="#001e3b" font-weight="800">Hidrosfera</text>
            <use href="#icon-water" x="390" y="238" width="28" height="28" opacity="0.95" />
          </g>

          <!-- ATMÓSFERA (redondeada con arco) -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Atmósfera" data-system="atmosfera" data-name="Atmósfera" data-order="0">
            <path d="M 300,40 A 130,60 0 0 1 500,40 L 440,232 L 360,232 Z" fill="url(#grad-atmo)" opacity="0.94" stroke="#1565c0" stroke-width="1.5"></path>
            <text x="400" y="120" text-anchor="middle" fill="#003c6c" font-weight="700">Atmósfera</text>
            <use href="#icon-cloud" x="386" y="108" width="30" height="30" opacity="0.95" />
          </g>

          <!-- Contorno del cono completo -->
          <polyline points="300,40 400,360 500,40" fill="none" stroke="rgba(255,255,255,.18)" stroke-width="1.2"></polyline>
        </svg>
        <div id="svgTooltip" class="svg-tooltip" role="tooltip" aria-hidden="true"></div>
      </div>
    </section>

    <!-- Modal dinámico -->
    <div id="systemModal" class="modal" aria-hidden="true" aria-labelledby="modalTitle" role="dialog">
      <div class="modal-content" role="document">
        <button class="modal-close" aria-label="Cerrar">×</button>
        <div id="modalBody"></div>
      </div>
      <div class="modal-backdrop"></div>
    </div>

    <!-- Material docente -->
    <section class="teacher" aria-labelledby="titulo-docente" id="docente">
      <h2 id="titulo-docente">Material para el docente</h2>
      <p>Visualiza o descarga guías y material de apoyo para cada sistema.</p>

      <div class="tabs" role="tablist" aria-label="Material docente">
        <button role="tab" aria-selected="true" class="tab active" data-tab="pdf-atmosfera">Atmósfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-hidrosfera">Hidrosfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-geosfera">Geosfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-biosfera">Biosfera</button>
      </div>

      <div class="tab-panels">
        <div id="pdf-atmosfera" class="tab-panel active" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Atmósfera" src="assets/atmosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/atmosfera.pdf" download>Descargar PDF de Atmósfera</a>
        </div>
        <div id="pdf-hidrosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Hidrosfera" src="assets/hidrosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/hidrosfera.pdf" download>Descargar PDF de Hidrosfera</a>
        </div>
        <div id="pdf-geosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Geosfera" src="assets/geosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/geosfera.pdf" download>Descargar PDF de Geosfera</a>
        </div>
        <div id="pdf-biosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Biosfera" src="assets/biosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/biosfera.pdf" download>Descargar PDF de Biosfera</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer"><small>© <span id="year"></span> Proyecto educativo • Sistemas de la Tierra</small></footer>
  <script src="app.js"></script>
</body>
</html>
