<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sistemas de la Tierra – Interactivo</title>
  <meta name="description" content="Imagen interactiva de los sistemas de la Tierra con material para el docente y actividades por sistema." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles.extra.css" />
</head>
<body>
  <header class="site-header">
    <h1>Sistemas de la Tierra</h1>
    <p class="subtitle">Atmósfera · Hidrosfera · Geosfera · Biosfera</p>
  </header>

  <main>
    <!-- Imagen/SVG interactivo en forma de cono segmentado -->
    <section class="hero" aria-labelledby="titulo-interactivo" id="home">
      <h2 id="titulo-interactivo" class="sr-only">Mapa interactivo de los sistemas de la Tierra</h2>
      <div class="svg-wrapper" role="img" aria-label="Ilustración interactiva de sistemas en un cono desde el centro de la Tierra al espacio">
        <svg viewBox="0 0 800 420" class="earth-svg preload" aria-hidden="false" role="img">
          <title>Cono interactivo de los sistemas de la Tierra</title>
          <desc>Representación segmentada desde la atmósfera hasta el núcleo: Atmósfera, Hidrosfera, Biosfera y Geosfera. Pulse o presione Enter en cada segmento para abrir recursos.</desc>
          <defs>
            <!-- Fondo -->
            <radialGradient id="bg" cx="50%" cy="50%" r="70%">
              <stop offset="0%"  stop-color="#0d47a1"/>
              <stop offset="100%" stop-color="#001e3c"/>
            </radialGradient>
            <!-- Gradientes para Geosfera y Atmósfera -->
            <linearGradient id="grad-geo" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#8b6f47"/>
              <stop offset="40%" stop-color="#b8956a"/>
              <stop offset="70%" stop-color="#d4a853"/>
              <stop offset="100%" stop-color="#e8b86d"/>
            </linearGradient>
            <linearGradient id="grad-atmo" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%"  stop-color="#01579b"/>
              <stop offset="35%" stop-color="#0277bd"/>
              <stop offset="70%" stop-color="#29b6f6"/>
              <stop offset="100%" stop-color="#81d4fa"/>
            </linearGradient>
            <!-- Gradientes y patrones para Hidrosfera y Biosfera -->
            <linearGradient id="grad-hidro" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#0097a7"/>
              <stop offset="40%" stop-color="#0288d1"/>
              <stop offset="70%" stop-color="#29b6f6"/>
              <stop offset="100%" stop-color="#4dd0e1"/>
            </linearGradient>
            <linearGradient id="grad-bio" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#558b2f"/>
              <stop offset="50%" stop-color="#7cb342"/>
              <stop offset="100%" stop-color="#9ccc65"/>
            </linearGradient>
            <!-- Patrón de olas (sutil) -->
            <pattern id="pattern-waves" patternUnits="userSpaceOnUse" width="24" height="12">
              <path d="M0 6 Q6 0 12 6 T24 6" fill="none" stroke="#ffffff" stroke-opacity="0.08" stroke-width="1" />
            </pattern>
            <!-- Patrón de textura de roca para geosfera -->
            <pattern id="pattern-rocks" patternUnits="userSpaceOnUse" width="40" height="40">
              <circle cx="10" cy="10" r="2.5" fill="#6b5637" opacity="0.3"/>
              <circle cx="28" cy="15" r="2" fill="#8b7355" opacity="0.25"/>
              <circle cx="18" cy="32" r="2.2" fill="#6b5637" opacity="0.28"/>
              <circle cx="35" cy="28" r="1.8" fill="#7a6a47" opacity="0.22"/>
              <circle cx="5" cy="25" r="1.5" fill="#8b7355" opacity="0.2"/>
              <path d="M5 20 L15 18 M12 8 L20 10 M30 35 L38 33" stroke="#6b5637" stroke-width="0.8" stroke-opacity="0.15" fill="none"/>
            </pattern>
            <!-- Patrón de textura de vegetación para biosfera -->
            <pattern id="pattern-vegetation" patternUnits="userSpaceOnUse" width="45" height="45">
              <ellipse cx="12" cy="8" rx="3" ry="5" fill="#1b5e20" opacity="0.32"/>
              <ellipse cx="32" cy="18" rx="2.5" ry="4" fill="#2e7d32" opacity="0.28"/>
              <path d="M8 15 Q8 22 5 28" stroke="#1b5e20" stroke-width="1.2" stroke-opacity="0.2" fill="none"/>
              <path d="M38 10 Q35 18 38 25" stroke="#2e7d32" stroke-width="1" stroke-opacity="0.18" fill="none"/>
              <circle cx="18" cy="35" r="2" fill="#43a047" opacity="0.25"/>
              <circle cx="40" cy="38" r="1.5" fill="#1b5e20" opacity="0.2"/>
              <path d="M22 5 L20 12 L25 10" fill="#2e7d32" opacity="0.2"/>
            </pattern>
            <!-- Patrón de textura de nubes para atmósfera -->
            <pattern id="pattern-clouds" patternUnits="userSpaceOnUse" width="50" height="50">
              <ellipse cx="8" cy="12" rx="4" ry="3" fill="#ffffff" opacity="0.15"/>
              <ellipse cx="15" cy="10" rx="5" ry="3.5" fill="#ffffff" opacity="0.12"/>
              <ellipse cx="12" cy="15" rx="3.5" ry="3" fill="#ffffff" opacity="0.14"/>
              <ellipse cx="32" cy="28" rx="5" ry="3" fill="#ffffff" opacity="0.13"/>
              <ellipse cx="40" cy="26" rx="4.5" ry="3.5" fill="#ffffff" opacity="0.11"/>
              <ellipse cx="36" cy="32" rx="4" ry="2.5" fill="#ffffff" opacity="0.12"/>
              <path d="M5 35 Q12 38 18 35 Q25 32 32 35" stroke="#ffffff" stroke-width="0.8" stroke-opacity="0.1" fill="none"/>
              <path d="M25 8 Q32 10 38 8" stroke="#ffffff" stroke-width="0.7" stroke-opacity="0.09" fill="none"/>
            </pattern>
            <!-- Patrón de textura de agua para hidrosfera -->
            <pattern id="pattern-water" patternUnits="userSpaceOnUse" width="48" height="28">
              <path d="M0 8 Q6 5 12 8 T24 8 T36 8 T48 8" stroke="#ffffff" stroke-width="1.2" stroke-opacity="0.18" fill="none"/>
              <path d="M0 14 Q8 11 16 14 T32 14 T48 14" stroke="#ffffff" stroke-width="0.9" stroke-opacity="0.14" fill="none"/>
              <path d="M0 20 Q7 18 14 20 T28 20 T42 20 T48 20" stroke="#ffffff" stroke-width="0.8" stroke-opacity="0.12" fill="none"/>
              <circle cx="10" cy="10" r="1" fill="#ffffff" opacity="0.08"/>
              <circle cx="28" cy="16" r="0.8" fill="#ffffff" opacity="0.07"/>
              <circle cx="42" cy="12" r="0.9" fill="#ffffff" opacity="0.08"/>
            </pattern>
            <!-- Filtro de sombra suave -->
            <filter id="soft-shadow" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="#000" flood-opacity="0.35" />
            </filter>
            <!-- icon symbols removed -->
          </defs>
          <rect x="0" y="0" width="800" height="420" fill="url(#bg)"></rect>

          <!-- Contorno del cono completo (oculto) -->
          <polyline points="300,40 400,360 500,40" fill="none" stroke="rgba(255,255,255,0)" stroke-width="1.2"></polyline>

          <!-- Geometría de referencia del cono -->
          <!-- Límites Y (ajustables): yTop=40, yH2O=215, yBio=240, yGeo=270, yApex=360 -->
          <!-- Funciones laterales (para 800x420): xL(y)=250+0.46875*(y-40), xR(y)=550-0.46875*(y-40) -->

          <!-- GEOSFERA -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Geosfera" data-system="geosfera" data-name="Geosfera" data-order="3">
            <polygon points="357.8125,270 400,360 442.1875,270" fill="url(#grad-geo)" opacity="1" stroke="#d4a840" stroke-width="0.8" stroke-linejoin="miter"></polygon>
            <polygon points="357.8125,270 400,360 442.1875,270" fill="url(#pattern-rocks)" opacity="0.35" stroke="none"></polygon>
            <text x="400" y="300" text-anchor="middle" fill="#3e2723" font-weight="700">Geosfera</text>
            <!-- icon removed -->
          </g>

          <!-- BIOSFERA: degradado + ligero borde y sombra -->
          <g class="hotspot biosfera" tabindex="0" role="button" aria-label="Abrir Biosfera" data-system="biosfera" data-name="Biosfera" data-order="2" filter="url(#soft-shadow)">
            <polygon points="343.75,240 357.8125,270 442.1875,270 456.25,240" fill="url(#grad-bio)" opacity="1" stroke="#4caf50" stroke-width="0.8" stroke-linejoin="miter"/>
            <polygon points="343.75,240 357.8125,270 442.1875,270 456.25,240" fill="url(#pattern-vegetation)" opacity="0.3" stroke="none"/>
            <text x="400" y="257.5" text-anchor="middle" fill="#062e14" font-weight="800">Biosfera</text>
            <!-- icon removed -->
          </g>

          <!-- HIDROSFERA: degradado + patrón de olas y borde contrastado -->
          <g class="hotspot hidrosfera" tabindex="0" role="button" aria-label="Abrir Hidrosfera" data-system="hidrosfera" data-name="Hidrosfera" data-order="1" filter="url(#soft-shadow)">
            <polygon points="332.03,215 343.75,240 456.25,240 467.97,215" fill="url(#grad-hidro)" opacity="1" stroke="#0288d1" stroke-width="0.8" stroke-linejoin="miter"/>
            <polygon points="332.03,215 343.75,240 456.25,240 467.97,215" fill="url(#pattern-water)" opacity="0.28" stroke="none"/>
            <text x="400" y="230" text-anchor="middle" fill="#001e3b" font-weight="800">Hidrosfera</text>
            <!-- icon removed -->
          </g>

          <!-- ATMÓSFERA (redondeada con arco) -->
          <g class="hotspot" tabindex="0" role="button" aria-label="Abrir Atmósfera" data-system="atmosfera" data-name="Atmósfera" data-order="0">
            <path d="M 250,50 A 140,55 0 0 1 550,50 L 467.97,215 L 332.03,215 Z" fill="url(#grad-atmo)" opacity="0.94" stroke="#42a5f5" stroke-width="0.8" stroke-linejoin="miter"></path>
            <path d="M 250,50 A 140,55 0 0 1 550,50 L 467.97,215 L 332.03,215 Z" fill="url(#pattern-clouds)" opacity="0.25" stroke="none"></path>
            <text x="400" y="125" text-anchor="middle" fill="#003c6c" font-weight="700">Atmósfera</text>
            <!-- icon removed -->
          </g>

        </svg>
        <div id="svgTooltip" class="svg-tooltip" role="tooltip" aria-hidden="true"></div>
      </div>
    </section>

    <!-- Modal dinámico -->
    <div id="systemModal" class="modal" aria-hidden="true" aria-labelledby="modalTitle" role="dialog">
      <div class="modal-content" role="document">
        <button class="modal-close" aria-label="Cerrar">×</button>
        <div id="modalBody"></div>
      </div>
      <div class="modal-backdrop"></div>
    </div>

    <!-- Material docente -->
    <section class="teacher" aria-labelledby="titulo-docente" id="docente">
      <h2 id="titulo-docente">Material para el docente</h2>
      <p>Visualiza o descarga guías y material de apoyo para cada sistema.</p>

      <div class="tabs" role="tablist" aria-label="Material docente">
        <button role="tab" aria-selected="true" class="tab active" data-tab="pdf-atmosfera">Atmósfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-hidrosfera">Hidrosfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-geosfera">Geosfera</button>
        <button role="tab" aria-selected="false" class="tab" data-tab="pdf-biosfera">Biosfera</button>
      </div>

      <div class="tab-panels">
        <div id="pdf-atmosfera" class="tab-panel active" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Atmósfera" src="assets/atmosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/atmosfera.pdf" download>Descargar PDF de Atmósfera</a>
        </div>
        <div id="pdf-hidrosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Hidrosfera" src="assets/hidrosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/hidrosfera.pdf" download>Descargar PDF de Hidrosfera</a>
        </div>
        <div id="pdf-geosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Geosfera" src="assets/geosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/geosfera.pdf" download>Descargar PDF de Geosfera</a>
        </div>
        <div id="pdf-biosfera" class="tab-panel" role="tabpanel">
          <div class="pdf-box"><iframe title="PDF Biosfera" src="assets/biosfera.pdf#view=FitH"></iframe></div>
          <a class="btn" href="assets/biosfera.pdf" download>Descargar PDF de Biosfera</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer"><small>© <span id="year"></span> Proyecto educativo • Sistemas de la Tierra</small></footer>
  <script src="app.js"></script>
</body>
</html>
